!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.TextCanvas=e()}(this,function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),r=function(){function r(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};arguments[2];t(this,r),this.text=e,this.textStyle=n,this.createCanvas()}return n(r,[{key:"createCanvas",value:function(){return this._canvas=document.createElement("canvas"),this._ctx=this._canvas.getContext("2d"),this._canvas}},{key:"applyTextStyles",value:function(){var t=this._style;this._ctx.font=t.fontStyle+" "+t.fontVariant+" "+t.fontWeight+" "+t.fontSize+" "+t.fontFamily,this._ctx.textAlign=t.textAlign,this._ctx.textBaseline=t.textBaseline,this._ctx.fillStyle=t.textColor,this._ctx.shadowBlur=t.shadowBlur,this._ctx.shadowOffsetX=t.shadowOffsetX,this._ctx.shadowOffsetY=t.shadowOffsetY,this._ctx.shadowColor=t.shadowColor}},{key:"createTextLines",value:function(){var t=this._text.split("\n");if(!this._style.wordWrap)return t;for(var e=this._ctx.measureText(" "),n=[],r=0,o="",i=0;i<t.length;i++){for(var s=t.split(" "),a=0;a<s.length;a++){var u=this._ctx.measureText(s[a]);r+u.width>this._style.wordWrap?(a&&n.push(o.trim()),r=u.width,o=s[a]):(r+=u.width+e.width,o+=s[a]+" ")}n.push(o.trim()),r=0,o=""}}},{key:"defaultTextStyle",get:function(){return{fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",fontSize:"16px",textAlign:"left",textBaseline:"ideographic",textColor:"black",shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"black",wordWrap:!1,wordBreak:!1}}},{key:"text",get:function(){return this._text},set:function(t){if("string"!=typeof t)throw new TypeError(this.constructor.name+": 'text' must be a string.");if(t=t.trim(),!t)throw new RangeError(this.constructor.name+": 'text' is empty.");return this._text=t,this._text}},{key:"textStyle",get:function(){return this._style},set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._style=e({},this.defaultTextStyle,t),this._style}},{key:"resolution",get:function(){return this._resolution},set:function(t){if(void 0!==t&&Number.isNaN(t))throw new TypeError(this.constructor.name+": 'resolution' must be a number.");if(0===t)throw new RangeError(this.constructor.name+": 'resolution' must be greater than 0.");if(t=t||window.devicePixelRatio||1,t=parseFloat(t),Math.sign(t)===-1)throw new RangeError(this.constructor.name+": 'resolution' must be a positive number.");return this._resolution=t,this._resolution}}]),r}();return r});
//# sourceMappingURL=text-canvas.min.js.map
